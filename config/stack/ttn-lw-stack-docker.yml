# Identity Server configuration
# Email configuration for "192.168.111.1"
is:
  # email:
  #   sender-name: "The Things Stack"
  #   sender-address: "noreply@192.168.111.1"
  #   network:
  #     name: "The Things Stack"
  #     console-url: "https://192.168.111.1/console"
  #     identity-server-url: "https://192.168.111.1/oauth"

    # If sending email with Sendgrid
    # provider: sendgrid
    # sendgrid:
    #   api-key: '...'              # enter Sendgrid API key

    # If sending email with SMTP
    # provider: smtp
    # smtp:
    #   address:  '...'             # enter SMTP server address
    #   username: '...'             # enter SMTP server username
    #   password: '...'             # enter SMTP server password

  # Web UI configuration for "192.168.111.1":
  oauth:
    ui:
      canonical-url: "https://192.168.111.1/oauth"
      is:
        base-url: "https://192.168.111.1/api/v3"

# HTTP server configuration
http:
  cookie:
    block-key: "de45fac8fcf7cdbf5249f0ac6d418a2faced4596b1ed4da937a512ede29a82a4" # generate 32 bytes (openssl rand -hex 32)
    hash-key: "b5b93c537fa6b1c297dbcbd35d4986f851267e7a7cd676dc77286119877bb22a5717f80c996a1df4bf43336ae4ecba2bf6c3ce69d998d94f2279a40307f5df35" # generate 64 bytes (openssl rand -hex 64)
  metrics:
    password: "metrics" # choose a password
  pprof:
    password: "pprof" # choose a password

# If using custom certificates:
tls:
  source: file
  root-ca: /run/secrets/ca.pem
  certificate: /run/secrets/cert.pem
  key: /run/secrets/key.pem

# Let's encrypt for "192.168.111.1"
# tls:
#   source: acme
#   acme:
#     dir: /var/lib/acme
#     email: "you@192.168.111.1"
#     hosts: ["192.168.111.1"]
#     default-host: "192.168.111.1"

# If Gateway Server enabled, defaults for "192.168.111.1":
gs:
  mqtt:
    public-address: "192.168.111.1:1882"
    public-tls-address: "192.168.111.1:8882"
  mqtt-v2:
    public-address: "192.168.111.1:1881"
    public-tls-address: "192.168.111.1:8881"

# If Gateway Configuration Server enabled, defaults for "192.168.111.1":
gcs:
  basic-station:
    default:
      lns-uri: "wss://192.168.111.1:8887"

# Web UI configuration for "192.168.111.1":
console:
  ui:
    canonical-url: "https://192.168.111.1/console"
    account-url: "https://192.168.111.1/oauth"
    is:
      base-url: "https://192.168.111.1/api/v3"
    gs:
      base-url: "https://192.168.111.1/api/v3"
    ns:
      base-url: "https://192.168.111.1/api/v3"
    as:
      base-url: "https://192.168.111.1/api/v3"
    js:
      base-url: "https://192.168.111.1/api/v3"
    gcs:
      base-url: "https://192.168.111.1/api/v3"
    qrg:
      base-url: "https://192.168.111.1/api/v3"
    edtc:
      base-url: "https://192.168.111.1/api/v3"
    dcs:
      base-url: "https://192.168.111.1/api/v3"
  oauth:
    authorize-url: "https://192.168.111.1/oauth/authorize"
    token-url: "https://192.168.111.1/oauth/token"
    logout-url: "https://192.168.111.1/oauth/logout"
    client-id: "console"
    client-secret: "console" # choose or generate a secret

# If Application Server enabled, defaults for "192.168.111.1":
as:
  mqtt:
    public-address: "192.168.111.1:1883"
    public-tls-address: "192.168.111.1:8883"
  webhooks:
    downlink:
      public-address: "192.168.111.1:1885/api/v3"

# Managed gateway configuration, defaults for "192.168.111.1".
# This configures a connection with The Things Gateway Controller, a service operated by The Things Industries.
# This allows connecting, for example, The Things Indoor Gateway Pro.
ttgc:
  enabled: true
  domain: 192.168.111.1
  # Let's Encrypt:
  # tls:
  #   source: acme
  # If using custom certificates:
  tls:
    source: file
    certificate: /run/secrets/cert.pem
    key: /run/secrets/key.pem
